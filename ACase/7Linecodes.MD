# 7Linecodes
## [现象：站点服务不可用的报警 七层SLB的CPU占用率达到了100%](https://github.com/r2010shadow/Cookbook/blob/master/ACase/7Linecodes.MD)

* 复盘
- - 晚上22:52
`收到服务不可用的报警`
`立马和相关技术人员拉了个紧急语音会议`
- - 晚上22:57
`运维发现承载全部在线业务的主机房七层SLB的CPU占用率达到了100%,无法处理用户请求，排除其他设施后，锁定故障为该层。`
`远程在家的程序员登上VPN却没法进入内网，只好又去call了一遍内网负责人，走了个绿色通道才全部上线（因为其中一个域名是由故障的SLB代理的）`

- -
```
惯例与绿色通道 --- 预演故障情况下的绿色通道
```
```
排除法 --- 缩小故障范围
```
1. 


* 起源
```
local _gcd
_gcd = function (a,b)
    if b == 0 then
        return a
    end
    
    return _gcd (b, a % b)
end
```

* Lua具有这么几个特点
```
    这是一种动态类型语言，常用习惯里变量不需要定义类型，直接给变量赋值就行。
    Lua在对一个数字字符串进行算术操作时，会尝试将这个数字字符串转成一个数字。
    在Lua语言中，数学运算n%0的结果是nan(Not A Number)。
```




[7行代码崩溃3小时，竟因“一个诡计多端的0”](https://www.qbitai.com/2022/07/36300.html)



